; Postgresql DB XA Connection, JDBC driver
[@global/DB1_JDBC]
NDRX_XA_RES_ID=1
NDRX_XA_OPEN_STR={"class":"postgresql.jdbc.xa.client.PostgresqlXADataSource", 
        "set": {
                "setUser":"${EX_PG_USER}"
                ,"setPassword":"${EX_PG_PASS}"
                ,"setURL":"jdbc:postgresql:thin:@${EX_PG_HOST}:${EX_PG_PORT}/${EX_PG_SID}"
		,"setConnectionProperties":{
			"defaultRowPrefetch":"2"
			,"postgresql.jdbc.TcpNoDelay":"true"
# Number in milliseconds
			,"postgresql.jdbc.ReadTimeout":"6000"
			}
                }
        }
NDRX_XA_CLOSE_STR=${NDRX_XA_OPEN_STR}
NDRX_XA_DRIVERLIB=${NDRX_APPHOME}/../../xadrv/libndrxxajdbc.so
NDRX_XA_RMLIB=${NDRX_APPHOME}/../../libsrc/c/libexjava.so
NDRX_XA_LAZY_INIT=1

; Standard OCI driver
[@global/DB1_OCI]
NDRX_XA_RES_ID=1
NDRX_XA_OPEN_STR={"class":"postgresql.jdbc.xa.client.PostgresqlXADataSource",
        "set": {
                "setUser":"${EX_PG_USER}"
                ,"setPassword":"${EX_PG_PASS}"
                ,"setURL":"jdbc:postgresql:oci:@${EX_PG_HOST}:${EX_PG_PORT}/${EX_PG_SID}"
                ,"setConnectionProperties":{
                        "defaultRowPrefetch":"2"
                        ,"postgresql.jdbc.TcpNoDelay":"true"
                        ,"postgresql.jdbc.ReadTimeout":"6000"
                        }
                }
        }
NDRX_XA_CLOSE_STR=${NDRX_XA_OPEN_STR}
NDRX_XA_DRIVERLIB=${NDRX_APPHOME}/../../xadrv/libndrxxajdbc.so
NDRX_XA_RMLIB=${NDRX_APPHOME}/../../libsrc/c/libexjava.so
NDRX_XA_LAZY_INIT=1

; Native driver
[@global/DB1_NAT]
NDRX_XA_RES_ID=1
NDRX_XA_OPEN_STR=POSTGRESQL_XA+SqlNet=${EX_PG_SID}+ACC=P/${EX_PG_USER}/${EX_PG_PASS}+SesTM=180+LogDir=./+nolocal=f+Threads=true
NDRX_XA_CLOSE_STR=${NDRX_XA_OPEN_STR}
NDRX_XA_DRIVERLIB=libndrxxapgs.so
NDRX_XA_RMLIB=${EX_PG_OCILIB}
NDRX_XA_LAZY_INIT=1


[@java]
opts stack=-Xss64m
#opts max mem=-XX:MaxDirectMemorySize=50m
opts max mem=-Xmx50m
opts osfreemin=-XX:MinHeapFreeRatio=5
opts osfreemax=-XX:MaxHeapFreeRatio=20
# tmsrv requires endurox jar in CP
opts classpath=-classpath ${NDRX_APPHOME}/../../libsrc/enduroxjava.jar:${NDRX_APPHOME}/jdbcdrivers/ojdbc8.jar

